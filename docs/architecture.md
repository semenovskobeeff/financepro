# Архитектура Finance App

## Общая структура

Проект разделен на две основные части:

-   **client** - фронтенд-приложение, построенное на React/TypeScript с использованием Feature-Sliced Design
-   **server** - бэкенд-приложение, построенное на Express/Node.js с использованием Clean Architecture и элементов DDD

## Фронтенд-архитектура

Фронтенд организован по методологии Feature-Sliced Design (FSD), которая разделяет код на слои по принципу их близости к пользователю/бизнесу.

### Слои:

1. **app** - инициализация приложения, настройка маршрутизации, провайдеры контекста, глобальные стили
2. **processes** - бизнес-процессы приложения, объединяющие несколько фич
3. **features** - интерактивные элементы интерфейса, реализующие функциональность
4. **entities** - бизнес-сущности (счета, категории, транзакции и т.д.)
5. **widgets** - композиционные компоненты, собирающие сущности и фичи в блоки UI
6. **shared** - переиспользуемый код: UI-компоненты, утилиты, типы, константы, API-клиенты

### Технологический стек Frontend:

-   React 18+
-   TypeScript
-   Redux Toolkit + RTK Query
-   Material UI v5
-   Vite

## Бэкенд-архитектура

Бэкенд построен на принципах Clean Architecture с элементами DDD (Domain-Driven Design).

### Слои:

1. **Domain** - бизнес-модели и бизнес-правила
2. **Application** - сценарии использования (use cases) и DTO
3. **Infrastructure** - реализация внешних интерфейсов (БД, аутентификация и т.д.)
4. **Presentation** - маршрутизация, контроллеры, обработка HTTP-запросов

### Структура директорий:

-   **/core** - ядро приложения, содержит слои Domain, Application и Infrastructure
-   **/modules** - модули по функциональным доменам (users, operations, goals, debts)

### Технологический стек Backend:

-   Node.js 20+
-   Express
-   MongoDB + Mongoose
-   JWT для аутентификации

## Коммуникация между компонентами

1. **Frontend → Backend**: REST API через RTK Query
2. **Backend → Database**: Mongoose ORM
3. **Backend → External Services**: HTTP, REST или SDK

## Особенности архитектуры

1. **Модульность** - изолированные домены с четкими границами
2. **Типобезопасность** - TypeScript на всех уровнях
3. **Тестируемость** - чистая архитектура и FSD обеспечивают хорошую тестируемость
4. **Масштабируемость** - модульная структура позволяет расширять функциональность

## Схема взаимодействия

```
┌─────────┐    HTTP     ┌─────────┐     ┌─────────┐
│         │◄───────────►│         │     │         │
│ Client  │    REST     │ Server  │◄───►│ MongoDB │
│ (React) │    API      │ (Node)  │     │         │
└─────────┘             └─────────┘     └─────────┘
```
